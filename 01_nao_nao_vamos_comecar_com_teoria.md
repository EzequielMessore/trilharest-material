# Não, não vamos começar com teoria

Neste tópico criaremos um `Hello, World!` usando `Spring Boot`, para
servir de base nas discussões teóricas.

Vamos começar garantindo que o Gradle está instalado:

```
$ gradle -version
------------------------------------------------------------
Gradle 4.2.1
------------------------------------------------------------

Build time:   2017-10-02 15:36:21 UTC
[...]
```

Nota: não conhece o Gradle? Agora é um bom momento para pausar o estudo e
seguir alguns tutoriais básicos deste gestor de build e dependências.

Escolheremos agora uma pasta qualquer e inicializaremos um novo projeto Gradle:

```
$ mkdir -p /algum/lugar/qualquer/filmes
$ cd /algum/lugar/qualquer/filmes
$ gradle init
$ ls
build.gradle  gradle  gradlew  gradlew.bat  settings.gradle
```

O `gradle init` não é obrigatório (poderíamos ter criado o arquivo build.gradle
na mão) mas ele é bem útil, pois já nos provê uma série de defaults convenientes.

O próximo passo agora é editar o arquivo `build.gradle` e descomentar (retirar o
/\*[...]\*/) envolta de toda a seção de configuração Groovy. Ele deverá ficar
parecido com:

```groovy
/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.2.1/userguide/tutorial_java_projects.html
 */

// Apply the java plugin to add support for Java
apply plugin: 'java'

// In this section you declare where to find the dependencies of your project
repositories {
[...]
}

// In this section you declare the dependencies for your production and test code
dependencies {
[...]
}

```

Uma boa prática em equipes que utilizam de alguma forma repositórios Maven para
baixar dependências (o Gradle usa, por exemplo) é a instalação de um repositório
*espelho* dos repositórios centrais, evitando assim uma carga alta na Internet
da empresa. Para esta trilha teremos um desses espelhos (uma instalação de
[Nexus](http://www.sonatype.org/nexus/)) disponível na rede interna. Para usá-lo,
ajuste a seção `repositories` do `build.gradle` dessa forma:

```groovy
repositories {
    //jcenter()
    maven { url ""http://{INSIRA_AQUI_IP_DO_INSTRUTOR}:8071/repository/maven-public/" }
}
```

Note que obviamente isso só vai funcionar para os alunos que estiverem na mesma rede
do instrutor e durante as aulas, para testar em casa ou seguir essa trilha offline
você terá que manter o uso do repositório `jcenter`.

Podemos agora executar a primeira build do nosso projeto:

```
$ gradle build
[...]
BUILD SUCCESSFUL in XXXXXs
[...]
```

Nota: para os atentos, podem ter se perguntado o por que de não usar `./gradlew` ao
invés de `gradle`? Na realidade o único motivo é evitar um novo download da ferramenta
enquanto estivermos todos na mesma rede, para os que estão seguindo essa trilha de casa
ou de seu ambiente de trabalho recomendo fortemente nunca usar o comando `gradle`
diretamente, mas sim o wrapper `./gradlew`.

A build não fez nada de relevante, pois não existe nada no projeto. Vamos mudar isso
adicionando um plugin para criar automaticamente a configuração do nosso IDE, no
arquivo `build.gradle`:

```groovy
apply plugin “idea”
```

Essa linha pode ficar logo abaixo da linha que aplica o plugin `java`. Para os que
estão usando `eclipse`, basta substituir o termo `idea` por `eclipse`. Vamos agora
fazer com que o gradle gere os arquivos de configuração do nosso projeto:

```
$ gradle idea
```

PS: substitua `idea` por `eclipse` se aplicável. Daqui em diante essa observação não
será mais repetida.
